<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MERCH CALZON VLOGS</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>

<body>

<div class="announcement-bar">
    <p>üöÄ ¬°ENV√çO GRATIS EN PEDIDOS SUPERIORES A 50‚Ç¨! üöÄ</p>
</div>

<header class="top">
    <h1>MERCH CALZON VLOGS</h1>
   <div class="cart">
    <img src="img/Shopping_Cart_PNG_Clip_Art_Image.png">
    <span id="count">0</span>
</div>

</header>

<main class="grid">

    <div class="card"
         data-name="Sudadera Calvituver"
         data-price="30"
         data-img="img/sudadera_calvituber.png"> <div class="img" style="background-image:url('img/sudadera_calvituber.png')"></div>
        <h2>Sudadera Calvituber</h2>
        <p class="price">30‚Ç¨</p>
        <button>Comprar</button>
    </div>

    <div class="card sold">
        <div class="img" style="background-image:url('img/camiseta_calvituber.png')"></div>
        <h2>Camiseta Calvituber</h2>
        <p class="price">SOLD OUT</p>
    </div>

    <div class="card"
         data-name="Calzones de Calzones"
         data-price="10"
         data-img="img/Calzones_de_calzon.png"> <div class="img" style="background-image:url('img/Calzones_de_calzon.png')"></div>
        <h2>Calzones de Calzones</h2>
        <p class="price">10‚Ç¨</p>
        <button>Comprar</button>
    </div>


</main>
<section id="product-view" class="hidden">
    <button id="close-product" type="button">‚Üê BACK</button>


    <div class="product-page">
        <div class="product-img"></div>

        <div class="product-info">
            <h2 id="product-name">Sudadera</h2>
            <p class="price" id="product-price">30‚Ç¨</p>


            <label>Talla</label>
            <div class="sizes">
                <button class="size">S</button>
                <button class="size">M</button>
                <button class="size">L</button>
                <button class="size">XL</button>
            </div>

            <button id="add-to-cart">A√±adir al carrito</button>
        </div>
    </div>


</section> 

<div id="checkout" class="checkout hidden">
    <div class="checkout-box">
        <h2>CHECKOUT</h2>
        <div id="checkout-content"></div>
        <div class="checkout-actions"> 
            <button id="close-checkout">CERRAR</button>
            <button id="finish">FINALIZAR COMPRA</button>
        </div>
    </div>
</div>

<footer class="site-footer">
    <div class="footer-container">
        <div class="footer-hero">
            <img src="img/Footer.png" alt="Hero Footer">
        </div>

        <div class="footer-nav">
            <a href="#">BLOGS</a>
            <a href="#">MERCH</a>
            <a href="#">MYSTERY</a>
        </div>

       <div class="footer-socials">
    
    <a href="https://twitter.com/TU_USUARIO" target="_blank">
        <img src="img/new-twitter-x-logo-twitter-icon-x-social-media-icon-free-png.png" alt="X">
    </a>
    <a href="https://www.instagram.com/calzon_deluxe/" target="_blank">
        <img src="img/Instagram_logo_2022.svg.webp" alt="Instagram">
    </a>
    <a href="https://www.youtube.com/@Calzon1839" target="_blank">
        <img src="img/Youtube_logo.png" alt="YouTube">
    </a>
</div>

        <div class="footer-legal">
            <a href="#">AYUDA Y SOPORTE</a>
            <a href="#">TERMINOS</a>
            <a href="#">PRIVACIDAD</a>
        </div>

        <p class="footer-assistance">
            Si est√° utilizando un lector de pantalla y tiene problemas para utilizar este sitio web, llame al 1000 para obtener ayuda.
        </p>
    </div>
</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {

    let count = 0;
    let selectedSize = null;
    let cartItems = []; // Nuestra lista de productos

    const grid = document.querySelector(".grid");
    const productView = document.getElementById("product-view");
    const counter = document.getElementById("count");

    const productImg = document.querySelector(".product-img");
    const productName = document.getElementById("product-name");
    const productPrice = document.getElementById("product-price");

    const backBtn = document.getElementById("close-product");
    const addBtn = document.getElementById("add-to-cart");
    const sizeButtons = document.querySelectorAll(".size");

    const cartIcon = document.querySelector(".cart");
    const checkout = document.getElementById("checkout");
    const checkoutContent = document.getElementById("checkout-content");
    const closeCheckout = document.getElementById("close-checkout");
    const finishBtn = document.getElementById("finish");

    /* ---------------- ABRIR PRODUCTO ---------------- */
    document.querySelectorAll(".card").forEach(card => {
        const btn = card.querySelector("button");
        if (!btn) return;

        btn.addEventListener("click", (e) => {
            e.preventDefault();
            e.stopPropagation();

            grid.style.display = "none";
            productView.classList.remove("hidden");

            selectedSize = null;
            sizeButtons.forEach(s => s.classList.remove("active"));

            productName.textContent = card.dataset.name;
            productPrice.textContent = card.dataset.price + "‚Ç¨";
            productImg.style.backgroundImage = `url(${card.dataset.img})`;
        });
    });

    /* ---------------- VOLVER ATR√ÅS ---------------- */
    backBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        productView.classList.add("hidden");
        grid.style.display = "grid";
    });

    /* ---------------- TALLAS ---------------- */
    sizeButtons.forEach(size => {
        size.addEventListener("click", (e) => {
            e.stopPropagation();
            sizeButtons.forEach(s => s.classList.remove("active"));
            size.classList.add("active");
            selectedSize = size.textContent;
        });
    });

    /* ---------------- A√ëADIR AL CARRITO ---------------- */
    addBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        if (!selectedSize) {
            alert("Por favor, selecciona una talla");
            return;
        }

        const newItem = {
            id: Date.now(), 
            name: productName.textContent,
            price: parseInt(productPrice.textContent), 
            size: selectedSize,
            img: productImg.style.backgroundImage.slice(5, -2)
        };

        cartItems.push(newItem);
        actualizarContador();

        productView.classList.add("hidden");
        grid.style.display = "grid";
    });

    function actualizarContador() {
        counter.textContent = cartItems.length;
    }

    /* ---------------- MOSTRAR CARRITO ---------------- */
    cartIcon.addEventListener("click", (e) => {
        e.stopPropagation();
        if (cartItems.length === 0) {
            alert("Tu carrito est√° vac√≠o.");
            return;
        }
        checkout.classList.remove("hidden");
        renderCart();
    });

    function renderCart() {
        checkoutContent.innerHTML = ""; 
        let total = 0;

        cartItems.forEach(item => {
            total += item.price;
            const itemDiv = document.createElement("div");
            itemDiv.className = "cart-item-row";
            itemDiv.innerHTML = `
                <img src="${item.img}" class="cart-mini-img">
                <div class="cart-item-info">
                    <strong>${item.name}</strong>
                    <span>Talla: ${item.size} - ${item.price}‚Ç¨</span>
                </div>
                <button onclick="removeItem(${item.id})" class="delete-btn">√ó</button>
            `;
            checkoutContent.appendChild(itemDiv);
        });

        const totalDiv = document.createElement("div");
        totalDiv.className = "cart-total-line";
        totalDiv.innerHTML = `
            <span>TOTAL:</span>
            <span>${total}‚Ç¨</span>
        `;
        checkoutContent.appendChild(totalDiv);
    }

    /* ---------------- ELIMINAR PRODUCTO ---------------- */
    window.removeItem = function(id) {
        cartItems = cartItems.filter(item => item.id !== id);
        actualizarContador();
        if (cartItems.length === 0) {
            checkout.classList.add("hidden");
        } else {
            renderCart();
        }
    };

    /* ---------------- CERRAR Y FINALIZAR ---------------- */
    closeCheckout.addEventListener("click", (e) => {
        e.stopPropagation();
        checkout.classList.add("hidden");
    });

    finishBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        checkout.classList.add("hidden");
        alert("COMPRA FINALIZADA\nTotal: " + cartItems.reduce((a, b) => a + b.price, 0) + "‚Ç¨");
        cartItems = [];
        actualizarContador();
    });

    checkout.addEventListener("click", (e) => e.stopPropagation());
});

</script>



</body>
</html>

